<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>Create a Flat Data schema · Legend</title><meta name="viewport" content="width=device-width"/><meta name="generator" content="Docusaurus"/><meta name="description" content="Flat Data is a feature of the External Formats support within Legend. It covers simple file formats like CSVs and simple custom formats. More"/><meta name="docsearch:language" content="en"/><meta property="og:title" content="Create a Flat Data schema · Legend"/><meta property="og:type" content="website"/><meta property="og:url" content="/https://claudiubelu.github.io/legend/legend/"/><meta property="og:description" content="Flat Data is a feature of the External Formats support within Legend. It covers simple file formats like CSVs and simple custom formats. More"/><meta name="twitter:card" content="summary"/><link rel="shortcut icon" href="/legend/img/favicon/favicon.ico"/><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/tomorrow-night-blue.min.css"/><script>
              (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
              (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
              m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
              })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

              ga('create', 'UA-89349362-7', 'auto');
              ga('send', 'pageview');
            </script><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto+Condensed:400,500,700,900|Source+Code+Pro:400,500,700,900&amp;display=swap"/><script type="text/javascript" src="https://buttons.github.io/buttons.js"></script><script src="/legend/js/scrollSpy.js"></script><link rel="stylesheet" href="/legend/css/main.css"/><script src="/legend/js/codetabs.js"></script></head><body class="sideNavVisible separateOnPageNav"><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="/legend/"><img class="logo" src="/legend/img/legend.svg" alt="Legend"/><h2 class="headerTitleWithLogo">Legend</h2></a><div class="navigationWrapper navigationSlider"><nav class="slidingNav"><ul class="nav-site nav-site-internal"><li class="siteNavGroupActive"><a href="/legend/docs/getting-started/getting-started-guide" target="_self">Docs</a></li><li class=""><a href="https://legend.finos.org/releases" target="_blank">Releases</a></li></ul></nav></div></header></div></div><div class="navPusher"><div class="docMainWrapper wrapper"><div class="docsNavContainer" id="docsNav"><nav class="toc"><div class="toggleNav"><section class="navWrapper wrapper"><div class="navBreadcrumb wrapper"><div class="navToggle" id="navToggler"><div class="hamburger-menu"><div class="line1"></div><div class="line2"></div><div class="line3"></div></div></div><h2><i>›</i><span>Studio</span></h2><div class="tocToggler" id="tocToggler"><i class="icon-toc"></i></div></div><div class="navGroups"><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Getting Started<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/legend/docs/getting-started/getting-started-guide">Getting Started</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Installation<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/legend/docs/installation/installation-guide">Installation guide</a></li><li class="navListItem"><a class="navItem" href="/legend/docs/installation/maven-install-guide">Maven Install Guide</a></li><li class="navListItem"><a class="navItem" href="/legend/docs/installation/aws-docker-guide">AWS Docker Guide</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Studio<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/legend/docs/studio/create-workspace">Create a workspace</a></li><li class="navListItem"><a class="navItem" href="/legend/docs/studio/create-model">Create a model</a></li><li class="navListItem"><a class="navItem" href="/legend/docs/studio/create-diagram">Create a diagram</a></li><li class="navListItem"><a class="navItem" href="/legend/docs/studio/edit-model">Edit a model</a></li><li class="navListItem"><a class="navItem" href="/legend/docs/studio/create-model-to-model-mapping">Create model-to-model mapping</a></li><li class="navListItem"><a class="navItem" href="/legend/docs/studio/execute">Execute model-to-model mapping</a></li><li class="navListItem navListItemActive"><a class="navItem" href="/legend/docs/studio/create-flat-data-schema">Create a Flat Data schema</a></li><li class="navListItem"><a class="navItem" href="/legend/docs/studio/review-and-commit-changes">Review and commit changes</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Language<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/legend/docs/language/legend-language">Legend language</a></li><li class="navListItem"><a class="navItem" href="/legend/docs/language/released-functions">Released functions</a></li><li class="navListItem"><a class="navItem" href="/legend/docs/language/upcoming-functions">Upcoming functions</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Release<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/legend/docs/release/release-2021-10-18">Release 2021-10-18</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Contribute<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/legend/docs/contribute/contribute-to-legend">Contribute to Legend</a></li><li class="navListItem"><a class="navItem" href="/legend/docs/contribute/terms-of-service">Terms of service</a></li></ul></div></div></section></div><script>
            var coll = document.getElementsByClassName('collapsible');
            var checkActiveCategory = true;
            for (var i = 0; i < coll.length; i++) {
              var links = coll[i].nextElementSibling.getElementsByTagName('*');
              if (checkActiveCategory){
                for (var j = 0; j < links.length; j++) {
                  if (links[j].classList.contains('navListItemActive')){
                    coll[i].nextElementSibling.classList.toggle('hide');
                    coll[i].childNodes[1].classList.toggle('rotate');
                    checkActiveCategory = false;
                    break;
                  }
                }
              }

              coll[i].addEventListener('click', function() {
                var arrow = this.childNodes[1];
                arrow.classList.toggle('rotate');
                var content = this.nextElementSibling;
                content.classList.toggle('hide');
              });
            }

            document.addEventListener('DOMContentLoaded', function() {
              createToggler('#navToggler', '#docsNav', 'docsSliderActive');
              createToggler('#tocToggler', 'body', 'tocActive');

              var headings = document.querySelector('.toc-headings');
              headings && headings.addEventListener('click', function(event) {
                var el = event.target;
                while(el !== headings){
                  if (el.tagName === 'A') {
                    document.body.classList.remove('tocActive');
                    break;
                  } else{
                    el = el.parentNode;
                  }
                }
              }, false);

              function createToggler(togglerSelector, targetSelector, className) {
                var toggler = document.querySelector(togglerSelector);
                var target = document.querySelector(targetSelector);

                if (!toggler) {
                  return;
                }

                toggler.onclick = function(event) {
                  event.preventDefault();

                  target.classList.toggle(className);
                };
              }
            });
        </script></nav></div><div class="container mainContainer docsContainer"><div class="wrapper"><div class="post"><header class="postHeader"><h1 id="__docusaurus" class="postHeaderTitle">Create a Flat Data schema</h1></header><article><div><span><p>Flat Data is a feature of the External Formats support within Legend. It covers simple file formats like CSVs and simple custom formats. More
sophisticated structured formats, that are described by well-defined schemas, such as XML (schema XSD) and JSON (schema JSON Schema) are
handled by other features of the External Formats framework.</p>
<p>The Flat Data feature is extensible so that support can be added for more file formats, for example as new data providers are onboarded. This guide
covers the configuration options for the core supported formats.</p>
<p>The Flat Data grammar is used to describe a particular file format so that data in that format can be read and/or written by Services defined in Legend.</p>
<h2><a class="anchor" aria-hidden="true" id="steps-to-create"></a><a href="#steps-to-create" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Steps to Create</h2>
<ol>
<li>Click the <strong>+</strong> on the left-hand side and select <strong>New SchemaSet</strong>.</li>
<li>Enter a name for the SchemaSet</li>
<li>Ensure the type (top left) is selected as <strong>FlatData</strong></li>
<li>Click the <strong>+</strong> next to the type to add a schema.  For FlatData only a single schema should be added to a SchemaSet.</li>
<li>For FlatData the <strong>Id</strong> and <strong>Location</strong> can be left blank</li>
<li>Define the format of the file by entering the <a href="#flat-data-grammar">Flat Data Grammar</a></li>
</ol>
<p><img src="../assets/edit-schemaset.JPG" alt="Edit a SchemaSet"></p>
<h2><a class="anchor" aria-hidden="true" id="flat-data-grammar"></a><a href="#flat-data-grammar" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Flat Data Grammar</h2>
<h3><a class="anchor" aria-hidden="true" id="sections"></a><a href="#sections" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Sections</h3>
<p>Each file format is defined by a schema (a single entry in a Legend SchemaSet). Each schema consists of one or more sections. A section is defined in
grammar as:</p>
<pre><code class="hljs css language-Legend">section section_name:<span class="hljs-type"> driver_type
</span>{
  properties
  record_definition
}
</code></pre>
<p>The <code>section_name</code> provides a name for the section and must be unique within a schema.</p>
<p>The <code>driver_type</code> defines the type of data contained in the section. See below for details of the core driver types available.</p>
<p>The <code>properties</code> are specific to the driver type and are detailed below. Each property is specified either as a name or as a name and value. Each
property specified is terminated by a semicolon (<code>;</code>). See example below.</p>
<p>A <code>record_definition</code> may be given for driver types that support one.</p>
<h3><a class="anchor" aria-hidden="true" id="record-definitions"></a><a href="#record-definitions" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Record definitions</h3>
<p>A record definition is specified as:</p>
<pre><code class="hljs css language-Legend">Record
{
  record_fields
}
</code></pre>
<p>Where a <code>record_field</code> is:</p>
<pre><code class="hljs css language-Legend">field_name:<span class="hljs-type"> data_type(arguments)
</span></code></pre>
<p>or</p>
<pre><code class="hljs css language-Legend">field_name {address}:<span class="hljs-type"> data_type(arguments)
</span></code></pre>
<p>dependent on whether the driver type is self-describing (without address) or not (with address).</p>
<p>The <code>field_name</code> is the field's name. For self-describing drivers this will be the name of the field exactly as it appears in the file (for example the heading of the
column). If the <code>field_name</code> contains non-alphanumeric characters (other than underscores) it should be enclosed in single quotes (<code>''</code>). For drivers that
are not self-describing the <code>field_name</code> can be any name that is unique within a record type. The <code>address</code> then specifies how the field is identified
within the data. The <code>address</code> is thus driver specific, it is always given within braces (<code>{}</code>).</p>
<h3><a class="anchor" aria-hidden="true" id="data-types"></a><a href="#data-types" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Data Types</h3>
<p>The valid <code>data_types</code> are given below. All data types can take arguments; when none are used the parentheses (<code>()</code>) are omitted. Arguments consist of
the single word <code>optional</code> or are a specified as <code>argument=value</code>. Multiple arguments are comma (<code>,</code>) separated.</p>
<ul>
<li><a href="#string">STRING</a></li>
<li><a href="#boolean">BOOLEAN</a></li>
<li><a href="#integer">INTEGER</a></li>
<li><a href="#decimal">DECIMAL</a></li>
<li><a href="#date">DATE</a></li>
<li><a href="#datetime">DATETIME</a></li>
</ul>
<h4><a class="anchor" aria-hidden="true" id="string"></a><a href="#string" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>STRING</h4>
<p>Allowable Options:</p>
<ul>
<li><code>optional</code></li>
</ul>
<p>Examples:</p>
<ul>
<li><code>STRING</code></li>
<li><code>STRING(optional)</code></li>
</ul>
<h4><a class="anchor" aria-hidden="true" id="boolean"></a><a href="#boolean" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>BOOLEAN</h4>
<p>Allowable Options:</p>
<ul>
<li><code>optional</code></li>
<li><code>trueString</code></li>
<li><code>falseString</code></li>
</ul>
<p>Examples:</p>
<ul>
<li><code>BOOLEAN</code></li>
<li><code>BOOLEAN(optional, trueString='Yes')</code></li>
<li><code>BOOLEAN(trueString='Y',falseString='N')</code></li>
</ul>
<p>Notes:</p>
<ul>
<li>If no <code>trueString</code> or <code>falseString</code> is specified then <code>true</code> (case insensitive) is taken to be true and any other value is considered false.</li>
<li>If only a <code>trueString</code> is specified then its value (case insensitive) is taken to be true and any other value is considered  false.</li>
<li>If only a <code>falseString</code> is specified then its value (case insensitive) is taken to be false and any other value is considered  true.</li>
<li>If both a <code>trueString</code> and a <code>falseString</code> are specified their values (case insensitive) are taken to be true/false  respectively and any other value is considered an error.</li>
<li>The properties <code>defaultTrueString</code> and <code>defaultFalseString</code> can be used to specify behaviour for all BOOLEAN  fields in a section.</li>
</ul>
<h4><a class="anchor" aria-hidden="true" id="integer"></a><a href="#integer" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>INTEGER</h4>
<p>Allowable Options:</p>
<ul>
<li><code>optional</code></li>
<li><code>format</code></li>
</ul>
<p>Examples</p>
<ul>
<li><code>INTEGER</code></li>
<li><code>INTEGER(optional, format='#,##0')</code></li>
</ul>
<p>Notes:</p>
<ul>
<li>Valid format strings are per Java's <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/text/DecimalFormat.html">DecimalFormat</a> (as used for integer-only strings).</li>
<li>The format for all <code>INTEGER</code> fields in a section can be specified using the defaultIntegerFormat property.</li>
</ul>
<h4><a class="anchor" aria-hidden="true" id="decimal"></a><a href="#decimal" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>DECIMAL</h4>
<p>Allowable Options:</p>
<ul>
<li><code>optional</code></li>
<li><code>format</code></li>
</ul>
<p>Examples</p>
<ul>
<li><code>DECIMAL</code></li>
<li><code>DECIMAL(optional, format='#,##0.0')</code></li>
</ul>
<p>Notes:</p>
<ul>
<li>Valid format strings are per Java's <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/text/DecimalFormat.html">DecimalFormat</a> (as used for integer-only strings).</li>
<li>The format for all <code>DECIMAL</code> fields in a section can be specified using the defaultDecimalFormat property.</li>
</ul>
<h4><a class="anchor" aria-hidden="true" id="date"></a><a href="#date" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>DATE</h4>
<p>Allowable Options:</p>
<ul>
<li><code>optional</code></li>
<li><code>format</code></li>
</ul>
<p>Examples</p>
<ul>
<li><code>DATE</code></li>
<li><code>DATE(optional, format='dd/MM/yyyy')</code></li>
</ul>
<p>Notes:</p>
<ul>
<li>Valid format strings are per Java's <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/format/DateTimeFormatter.html">DateTimeFormatter</a> (as used for date-only strings).</li>
<li>The format for all <code>DATE</code> fields in a section can be specified using the <code>defaultDateFormat</code> property.</li>
<li>If a format is not specified, dates are expected to be in ISO 8601 format for dates only (<code>yyyy-MM-dd</code>).</li>
</ul>
<h4><a class="anchor" aria-hidden="true" id="datetime"></a><a href="#datetime" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>DATETIME</h4>
<p>Allowable Options:</p>
<ul>
<li><code>optional</code></li>
<li><code>format</code></li>
<li><code>timeZone</code></li>
</ul>
<p>Examples</p>
<ul>
<li><code>DATETIME</code></li>
<li><code>DATETIME(optional, format='dd/MM/yyyy HH:mm')</code></li>
<li><code>DATETIME(timeZone='EST')</code></li>
</ul>
<p>Notes:</p>
<ul>
<li>Valid format strings are per Java's <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/format/DateTimeFormatter.html">DateTimeFormatter</a>.</li>
<li>The format for all <code>DATETIME</code> fields in a section can be specified using the <code>defaultDateTimeFormat</code> property.</li>
<li>If a format is not specified, datetimes are expected to be in ISO 8601 format.</li>
<li>If the datetime data does not include time zone information the time zone will be set according to the arguments/properties specified.</li>
<li>Valid timeZone values are per Java's <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/ZoneId.html">ZoneId</a> including <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/ZoneId.html#SHORT_IDS">SHORT_IDS</a>.</li>
<li>The default time zone for all <code>DATETIME</code> fields in a section can be specified using the <code>defaultTimeZone</code> property.</li>
<li>When no time zone information is specified it is assumes to be UTC.</li>
</ul>
<h3><a class="anchor" aria-hidden="true" id="driver-delimitedwithheadings"></a><a href="#driver-delimitedwithheadings" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Driver: DelimitedWithHeadings</h3>
<p>This driver reads data rows in which columns of data are separated by a delimiter. The first row specifies the headings for each column and hence defines
the order of data. A classic CSV file is an example of this.</p>
<p>####Properties</p>
<ul>
<li><a href="#common-streaming-properties">Common Streaming Properties</a>.</li>
<li><a href="#common-delimited-properties">Common Delimited Properties</a>.</li>
<li><a href="#common-data-properties">Common Data Properties</a>.</li>
<li><code>modelledColumnsMustBePresent</code> optional property which can be added as an option to assert that all fields specified in the Record must be present
in the column headings row regardless of whether the field is optional.</li>
<li><code>onlyModelledColumnsAllowed</code> optional property which can be added as an option to prohibit any fields not specified in the Record from being
present in the column headings row.</li>
</ul>
<p>####Record
A <code>Record</code> definition is expected for this driver and its fields must not specify address values.</p>
<h3><a class="anchor" aria-hidden="true" id="driver-delimitedwithoutheadings"></a><a href="#driver-delimitedwithoutheadings" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Driver: DelimitedWithoutHeadings</h3>
<p>This driver reads data rows in which columns of data are separated by a delimiter and where no headings row is present.</p>
<p>####Properties</p>
<ul>
<li><a href="#common-streaming-properties">Common Streaming Properties</a>.</li>
<li><a href="#common-delimited-properties">Common Delimited Properties</a>.</li>
<li><a href="#common-data-properties">Common Data Properties</a>.</li>
</ul>
<p>####Record
A <code>Record</code> definition is expected for this driver and its fields must specify address values.
The addresses are the one-based column positions of the data within the file.</p>
<h3><a class="anchor" aria-hidden="true" id="driver-immateriallines"></a><a href="#driver-immateriallines" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Driver: ImmaterialLines</h3>
<p>This driver is used to skip unnecessary lines of data.</p>
<p>####Properties</p>
<ul>
<li><a href="#common-streaming-properties">Common Streaming Properties</a>.</li>
</ul>
<p>####Record
A <code>Record</code> definition must not be specified.</p>
<h3><a class="anchor" aria-hidden="true" id="common-delimited-properties"></a><a href="#common-delimited-properties" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Common Delimited Properties</h3>
<ul>
<li><code>delimiter</code> mandatory property which specifies the column separator character(s).</li>
</ul>
<ul>
<li><p><code>quoteChar</code> optional property which defines the character used for quoting strings within the file rows so that they can include delimiters and/or ends-of-lines.</p>
<p>When quoting is used a quote character within a quoted string can be escaped by repeating it (for example the text 'It''s OK', where <code>quoteChar: '\'';</code> has been specified, equates to the value It's OK).</p></li>
</ul>
<ul>
<li><p><code>escapingChar</code> optional property which defines the character used to escape other characters.
Escaping can be used both within and outside quoted text.</p>
<p>Inside a quoted string the above example could have been <code>'It\'s OK'</code>, where <code>quoteChar: \'';</code> and <code>escapingChar: '\\'</code>; have been specified, also equates to the value It's OK.</p>
<p>Outside it can be used to escape delimiters such that the text <code>Hello\, World, Goodbye</code>, where <code>delimiter: ',';</code> and <code>escapingChar: '\\';</code> have been specified, equates to two column values of <code>Hello, World</code> and <code>Goodbye</code>.</p></li>
</ul>
<ul>
<li><p><code>nullString</code> - optional property defining the text which equates to a null (missing) value.
When this property is not specified the value is considered to be always present thus two delimiters in succession is interpreted as an empty string.
To treat that as a null value you need to specify <code>nullString: '';</code>.</p>
<p>Multiple <code>nullString</code> properties can be used to specify more that one value.</p></li>
</ul>
<h3><a class="anchor" aria-hidden="true" id="common-streaming-properties"></a><a href="#common-streaming-properties" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Common Streaming Properties</h3>
<ul>
<li><p><code>recordSeparator</code> optional property that defines the character(s) used to separate records within the file.
This is commonly the end-of-line character(s).</p>
<p>If this option is not specified the file will be separated using any of the commonly used line endings (<code>\n</code>, <code>\r\n</code> and <code>\r</code>);
<strong>this is usually the best option to alleviate issues with data being copied between different computers with different operating systems.</strong></p></li>
</ul>
<ul>
<li><code>mayContainBlankLines</code> optional property which can be added as an option to specify that blank lines within the file should be ignored.</li>
</ul>
<ul>
<li><code>scope</code> required property that specifies the scope of the section.
Options are:
<ul>
<li><code>scope.default;</code> use this unless you want a specific alternative</li>
<li><code>scope.forNumberOfLines = n;</code> if the section spans an exact number of lines</li>
<li><code>scope.untilLineEquals = 'END';</code> if the section spans until a marker line of the specified text</li>
<li><code>scope.untilEof;</code> if the section spans for the remainder of the data</li>
</ul></li>
</ul>
<h3><a class="anchor" aria-hidden="true" id="common-data-properties"></a><a href="#common-data-properties" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Common Data Properties</h3>
<ul>
<li><code>defaultIntegerFormat</code></li>
<li><code>defaultDecimalFormat</code></li>
<li><code>defaultTrueString</code></li>
<li><code>defaultFalseString</code></li>
<li><code>defaultDateFormat</code></li>
<li><code>defaultDateTimeFormat</code></li>
<li><code>defaultTimeZone</code></li>
</ul>
<p>See <a href="#data-types">Data Types</a> for usage.</p>
<h3><a class="anchor" aria-hidden="true" id="examples"></a><a href="#examples" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Examples</h3>
<p>This example defines a CSV file with:</p>
<ul>
<li>an ignored header row</li>
<li>a column headings row</li>
<li>data rows</li>
</ul>
<pre><code class="hljs css language-Legend">section header: ImmaterialLines
{
  scope.forNumberOfLines: 1;
}

section data: DelimitedWithHeadings
{
  scope.default;
  delimiter: ',';
  modelledColumnsMustBePresent;
  onlyModelledColumnsAllowed;

  Record
  {
    'First Name': STRING;
    'Last Name': STRING;
    Age: INTEGER(optional);
  }
}
</code></pre>
<p>This example defines a pipe-delimited file without headers.
Columns are therefore addressed positionally:</p>
<pre><code class="hljs css language-Legend">section data:<span class="hljs-type"> DelimitedWithoutHeadings
</span>{
  scope.default;
  delimiter:<span class="hljs-type"> '|'</span>;

  Record
  {
    FirstName {<span class="hljs-number">1</span>}:<span class="hljs-type"> STRING</span>;
    LastName {<span class="hljs-number">2</span>}:<span class="hljs-type"> STRING</span>;
    Age {<span class="hljs-number">3</span>}:<span class="hljs-type"> INTEGER(optional)</span>;
  }
}
</code></pre>
</span></div></article></div><div class="docs-prevnext"><a class="docs-prev button" href="/legend/docs/studio/execute"><span class="arrow-prev">← </span><span>Execute model-to-model mapping</span></a><a class="docs-next button" href="/legend/docs/studio/review-and-commit-changes"><span>Review and commit changes</span><span class="arrow-next"> →</span></a></div></div></div><nav class="onPageNav"><ul class="toc-headings"><li><a href="#steps-to-create">Steps to Create</a></li><li><a href="#flat-data-grammar">Flat Data Grammar</a><ul class="toc-headings"><li><a href="#sections">Sections</a></li><li><a href="#record-definitions">Record definitions</a></li><li><a href="#data-types">Data Types</a></li><li><a href="#driver-delimitedwithheadings">Driver: DelimitedWithHeadings</a></li><li><a href="#driver-delimitedwithoutheadings">Driver: DelimitedWithoutHeadings</a></li><li><a href="#driver-immateriallines">Driver: ImmaterialLines</a></li><li><a href="#common-delimited-properties">Common Delimited Properties</a></li><li><a href="#common-streaming-properties">Common Streaming Properties</a></li><li><a href="#common-data-properties">Common Data Properties</a></li><li><a href="#examples">Examples</a></li></ul></li></ul></nav></div><footer class="nav-footer" id="footer"><section class="sitemap"><a href="/legend/" class="nav-home"></a></section><section class="finos finosBanner"><a href="https://www.finos.org"><img id="finosicon" src="https://legend.finos.org/img/finos_wordmark.svg" height="75px" alt="FINOS" title="FINOS"/></a></section><section class="privacy finosBanner"><a href="https://www.finos.org/privacy-policy" target="_blank">Privacy Policy</a></section></footer></div><script>window.twttr=(function(d,s, id){var js,fjs=d.getElementsByTagName(s)[0],t=window.twttr||{};if(d.getElementById(id))return t;js=d.createElement(s);js.id=id;js.src='https://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js, fjs);t._e = [];t.ready = function(f) {t._e.push(f);};return t;}(document, 'script', 'twitter-wjs'));</script></body></html>